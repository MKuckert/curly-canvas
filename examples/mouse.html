<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>Canvas</title>
		<script type="text/javascript" src="../build/dist.js"></script>
	</head>
	<body>
		<canvas id="c" width="500" height="300"></canvas>
		<script type="text/javascript">//<![CDATA[
var canvas, ctx;
window.onload = function() {
try {
	var el=document.getElementById('c');
	canvas=new Curly.Canvas(el);
	el.style.border='1px solid #AAA';
	el.style.position='absolute';
	el.style.left='50%';
	el.style.top='50%';
	el.style.marginLeft=-(canvas.getWidth()>>1)+'px';
	el.style.marginTop=-(canvas.getHeight()>>1)+'px';
	
	ctx=canvas.getCtx();
	
	el.addEventListener('click', onClick, true);
}
catch(e) {
	console.log(e);
}
}

function onClick(event) {
	canvas.clear();
	
	var x, y;
	if(event) {
		x = event.layerX;
		y = event.layerY;
	}
	else {
		x = event.offsetX;
		y = event.offsetY;
	}
	var r=20;
	
	var gradient=new Curly.Gradient.Radial({
		x: x, y: y, r: r,
		stops: [
			[0, 'red'],
			[1, 'rgba(255, 0, 0, 0)']
		]
	});
	
	canvas.
		overwriteState('fillStyle', gradient).
		path(x, y).
		arc(r).
		draw(true, false);
}
//		]]></script>
	</body>
</html>