<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>Canvas</title>
		<script type="text/javascript" src="../build/dist.js"></script>
	</head>
	<body>
		<canvas id="c" width="400" height="300"></canvas>
		<div id="counter"></div>
		<script type="text/javascript">//<![CDATA[
var canvas, ctx, count=0, timer, start, w, h, counter=document.getElementById('counter');
window.onload = function() {
	try {
		var el=document.getElementById('c');
		canvas=new Curly.Canvas(el);
		el.style.border='1px solid #AAA';
		
		ctx=canvas.getCtx();
		w=canvas.getWidth();
		h=canvas.getHeight();
		
		start=(new Date()).getTime();
		timer=setInterval(draw, 1);
	}
	catch(e) {
		console.log(e);
	}
}

function rand(min, max) {
	return Math.ceil(Math.random()*(max-min)+min);
}
function draw() {
	if(count++>100) {
		window.clearInterval(timer);
		var diff=((new Date()).getTime()-start)/1000;
		counter.textContent=diff+'s, '+(count/diff)+'fps';
	}
	
	canvas.
		overwriteState('strokeStyle', 'rgb('+rand(0,255)+','+rand(0,255)+','+rand(0,255)+')').
		path(rand(0, w), rand(0, h)).
		lineTo(rand(0, w), rand(0, h)).
		draw(false, true);
}
//		]]></script>
	</body>
</html>